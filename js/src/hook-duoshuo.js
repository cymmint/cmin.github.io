/***!
 * origin: 摘星少年个人博客。
 * createtime: 2018-01-31
 * author: cmin
 * Copyright(c) 2018 http://cmin.me/
 */
function hookTemplate(){var post=DUOSHUO.templates.post;DUOSHUO.templates.post=function(e,t){var rs=post(e,t),agent=e.post.agent,userId=e.post.author.user_id,admin="";return userId&&userId==CONFIG.duoshuo.userId&&(admin='<span class="duoshuo-ua-admin">'+CONFIG.duoshuo.author+"</span>"),agent&&/^Mozilla/.test(agent)&&(rs=rs.replace(/<\/div><p>/,admin+getAgentInfo(agent)+"</div><p>")),rs}}function getAgentInfo(string){function getBrowserKey(){var key=browserName.toLowerCase();return key.match(/WeChat/i)?"wechat":key.match(/QQBrowser/i)?"qq":key}function isMobile(){var userAgent=window.navigator.userAgent,isiPad=null!==userAgent.match(/iPad/i),mobileUA=["iphone","android","phone","mobile","wap","netfront","x11","java","opera mobi","opera mini","ucweb","windows ce","symbian","symbianos","series","webos","sony","blackberry","dopod","nokia","samsung","palmsource","xda","pieplus","meizu","midp","cldc","motorola","foma","docomo","up.browser","up.link","blazer","helio","hosin","huawei","novarra","coolpad","webos","techfaith","palmsource","alcatel","amoi","ktouch","nexian","ericsson","philips","sagem","wellcom","bunjalloo","maui","smartphone","iemobile","spice","bird","zte-","longcos","pantech","gionee","portalmmm","jig browser","hiptop","benq","haier","^lct","320x320","240x320","176x220"],pattern=new RegExp(mobileUA.join("|"),"i");return!isiPad&&userAgent.match(pattern)}$.ua.set(string);var UNKNOWN="Unknown",sua=$.ua,separator=isMobile()?"<br><br>":'<span class="duoshuo-ua-separator"></span>',osName=sua.os.name||UNKNOWN,osVersion=sua.os.version||UNKNOWN,browserName=sua.browser.name||UNKNOWN,browserVersion=sua.browser.version||UNKNOWN,iconMapping={os:{android:"android",linux:"linux",windows:"windows",ios:"apple","mac os":"apple",unknown:"desktop"},browser:{chrome:"chrome",chromium:"chrome",firefox:"firefox",opera:"opera",safari:"safari",ie:"internet-explorer",wechat:"wechat",qq:"qq",unknown:"globe"}},osIcon=iconMapping.os[osName.toLowerCase()],browserIcon=iconMapping.browser[getBrowserKey()];return separator+'<span class="duoshuo-ua-platform duoshuo-ua-platform-'+osName.toLowerCase()+'"><i class="fa fa-'+osIcon+'"></i>'+osName+" "+osVersion+"</span>"+separator+'<span class="duoshuo-ua-browser duoshuo-ua-browser-'+browserName.toLowerCase()+'"><i class="fa fa-'+browserIcon+'"></i>'+browserName+" "+browserVersion+"</span>"}"undefined"!=typeof DUOSHUO?hookTemplate():$("#duoshuo-script")[0].onload=hookTemplate;